{"ast":null,"code":"import { Util } from './Util.js';\nimport { Animation } from './Animation.js';\nimport { Node } from './Node.js';\nimport { Konva } from './Global.js';\nvar blacklist = {\n  node: 1,\n  duration: 1,\n  easing: 1,\n  onFinish: 1,\n  yoyo: 1\n},\n    PAUSED = 1,\n    PLAYING = 2,\n    REVERSING = 3,\n    idCounter = 0,\n    colorAttrs = ['fill', 'stroke', 'shadowColor'];\n\nclass TweenEngine {\n  constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n    this.prop = prop;\n    this.propFunc = propFunc;\n    this.begin = begin;\n    this._pos = begin;\n    this.duration = duration;\n    this._change = 0;\n    this.prevPos = 0;\n    this.yoyo = yoyo;\n    this._time = 0;\n    this._position = 0;\n    this._startTime = 0;\n    this._finish = 0;\n    this.func = func;\n    this._change = finish - this.begin;\n    this.pause();\n  }\n\n  fire(str) {\n    var handler = this[str];\n\n    if (handler) {\n      handler();\n    }\n  }\n\n  setTime(t) {\n    if (t > this.duration) {\n      if (this.yoyo) {\n        this._time = this.duration;\n        this.reverse();\n      } else {\n        this.finish();\n      }\n    } else if (t < 0) {\n      if (this.yoyo) {\n        this._time = 0;\n        this.play();\n      } else {\n        this.reset();\n      }\n    } else {\n      this._time = t;\n      this.update();\n    }\n  }\n\n  getTime() {\n    return this._time;\n  }\n\n  setPosition(p) {\n    this.prevPos = this._pos;\n    this.propFunc(p);\n    this._pos = p;\n  }\n\n  getPosition(t) {\n    if (t === undefined) {\n      t = this._time;\n    }\n\n    return this.func(t, this.begin, this._change, this.duration);\n  }\n\n  play() {\n    this.state = PLAYING;\n    this._startTime = this.getTimer() - this._time;\n    this.onEnterFrame();\n    this.fire('onPlay');\n  }\n\n  reverse() {\n    this.state = REVERSING;\n    this._time = this.duration - this._time;\n    this._startTime = this.getTimer() - this._time;\n    this.onEnterFrame();\n    this.fire('onReverse');\n  }\n\n  seek(t) {\n    this.pause();\n    this._time = t;\n    this.update();\n    this.fire('onSeek');\n  }\n\n  reset() {\n    this.pause();\n    this._time = 0;\n    this.update();\n    this.fire('onReset');\n  }\n\n  finish() {\n    this.pause();\n    this._time = this.duration;\n    this.update();\n    this.fire('onFinish');\n  }\n\n  update() {\n    this.setPosition(this.getPosition(this._time));\n    this.fire('onUpdate');\n  }\n\n  onEnterFrame() {\n    var t = this.getTimer() - this._startTime;\n\n    if (this.state === PLAYING) {\n      this.setTime(t);\n    } else if (this.state === REVERSING) {\n      this.setTime(this.duration - t);\n    }\n  }\n\n  pause() {\n    this.state = PAUSED;\n    this.fire('onPause');\n  }\n\n  getTimer() {\n    return new Date().getTime();\n  }\n\n}\n\nexport class Tween {\n  constructor(config) {\n    var that = this,\n        node = config.node,\n        nodeId = node._id,\n        duration,\n        easing = config.easing || Easings.Linear,\n        yoyo = !!config.yoyo,\n        key;\n\n    if (typeof config.duration === 'undefined') {\n      duration = 0.3;\n    } else if (config.duration === 0) {\n      duration = 0.001;\n    } else {\n      duration = config.duration;\n    }\n\n    this.node = node;\n    this._id = idCounter++;\n    var layers = node.getLayer() || (node instanceof Konva['Stage'] ? node.getLayers() : null);\n\n    if (!layers) {\n      Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n    }\n\n    this.anim = new Animation(function () {\n      that.tween.onEnterFrame();\n    }, layers);\n    this.tween = new TweenEngine(key, function (i) {\n      that._tweenFunc(i);\n    }, easing, 0, 1, duration * 1000, yoyo);\n\n    this._addListeners();\n\n    if (!Tween.attrs[nodeId]) {\n      Tween.attrs[nodeId] = {};\n    }\n\n    if (!Tween.attrs[nodeId][this._id]) {\n      Tween.attrs[nodeId][this._id] = {};\n    }\n\n    if (!Tween.tweens[nodeId]) {\n      Tween.tweens[nodeId] = {};\n    }\n\n    for (key in config) {\n      if (blacklist[key] === undefined) {\n        this._addAttr(key, config[key]);\n      }\n    }\n\n    this.reset();\n    this.onFinish = config.onFinish;\n    this.onReset = config.onReset;\n    this.onUpdate = config.onUpdate;\n  }\n\n  _addAttr(key, end) {\n    var node = this.node,\n        nodeId = node._id,\n        start,\n        diff,\n        tweenId,\n        n,\n        len,\n        trueEnd,\n        trueStart,\n        endRGBA;\n    tweenId = Tween.tweens[nodeId][key];\n\n    if (tweenId) {\n      delete Tween.attrs[nodeId][tweenId][key];\n    }\n\n    start = node.getAttr(key);\n\n    if (Util._isArray(end)) {\n      diff = [];\n      len = Math.max(end.length, start.length);\n\n      if (key === 'points' && end.length !== start.length) {\n        if (end.length > start.length) {\n          trueStart = start;\n          start = Util._prepareArrayForTween(start, end, node.closed());\n        } else {\n          trueEnd = end;\n          end = Util._prepareArrayForTween(end, start, node.closed());\n        }\n      }\n\n      if (key.indexOf('fill') === 0) {\n        for (n = 0; n < len; n++) {\n          if (n % 2 === 0) {\n            diff.push(end[n] - start[n]);\n          } else {\n            var startRGBA = Util.colorToRGBA(start[n]);\n            endRGBA = Util.colorToRGBA(end[n]);\n            start[n] = startRGBA;\n            diff.push({\n              r: endRGBA.r - startRGBA.r,\n              g: endRGBA.g - startRGBA.g,\n              b: endRGBA.b - startRGBA.b,\n              a: endRGBA.a - startRGBA.a\n            });\n          }\n        }\n      } else {\n        for (n = 0; n < len; n++) {\n          diff.push(end[n] - start[n]);\n        }\n      }\n    } else if (colorAttrs.indexOf(key) !== -1) {\n      start = Util.colorToRGBA(start);\n      endRGBA = Util.colorToRGBA(end);\n      diff = {\n        r: endRGBA.r - start.r,\n        g: endRGBA.g - start.g,\n        b: endRGBA.b - start.b,\n        a: endRGBA.a - start.a\n      };\n    } else {\n      diff = end - start;\n    }\n\n    Tween.attrs[nodeId][this._id][key] = {\n      start: start,\n      diff: diff,\n      end: end,\n      trueEnd: trueEnd,\n      trueStart: trueStart\n    };\n    Tween.tweens[nodeId][key] = this._id;\n  }\n\n  _tweenFunc(i) {\n    var node = this.node,\n        attrs = Tween.attrs[node._id][this._id],\n        key,\n        attr,\n        start,\n        diff,\n        newVal,\n        n,\n        len,\n        end;\n\n    for (key in attrs) {\n      attr = attrs[key];\n      start = attr.start;\n      diff = attr.diff;\n      end = attr.end;\n\n      if (Util._isArray(start)) {\n        newVal = [];\n        len = Math.max(start.length, end.length);\n\n        if (key.indexOf('fill') === 0) {\n          for (n = 0; n < len; n++) {\n            if (n % 2 === 0) {\n              newVal.push((start[n] || 0) + diff[n] * i);\n            } else {\n              newVal.push('rgba(' + Math.round(start[n].r + diff[n].r * i) + ',' + Math.round(start[n].g + diff[n].g * i) + ',' + Math.round(start[n].b + diff[n].b * i) + ',' + (start[n].a + diff[n].a * i) + ')');\n            }\n          }\n        } else {\n          for (n = 0; n < len; n++) {\n            newVal.push((start[n] || 0) + diff[n] * i);\n          }\n        }\n      } else if (colorAttrs.indexOf(key) !== -1) {\n        newVal = 'rgba(' + Math.round(start.r + diff.r * i) + ',' + Math.round(start.g + diff.g * i) + ',' + Math.round(start.b + diff.b * i) + ',' + (start.a + diff.a * i) + ')';\n      } else {\n        newVal = start + diff * i;\n      }\n\n      node.setAttr(key, newVal);\n    }\n  }\n\n  _addListeners() {\n    this.tween.onPlay = () => {\n      this.anim.start();\n    };\n\n    this.tween.onReverse = () => {\n      this.anim.start();\n    };\n\n    this.tween.onPause = () => {\n      this.anim.stop();\n    };\n\n    this.tween.onFinish = () => {\n      var node = this.node;\n      var attrs = Tween.attrs[node._id][this._id];\n\n      if (attrs.points && attrs.points.trueEnd) {\n        node.setAttr('points', attrs.points.trueEnd);\n      }\n\n      if (this.onFinish) {\n        this.onFinish.call(this);\n      }\n    };\n\n    this.tween.onReset = () => {\n      var node = this.node;\n      var attrs = Tween.attrs[node._id][this._id];\n\n      if (attrs.points && attrs.points.trueStart) {\n        node.points(attrs.points.trueStart);\n      }\n\n      if (this.onReset) {\n        this.onReset();\n      }\n    };\n\n    this.tween.onUpdate = () => {\n      if (this.onUpdate) {\n        this.onUpdate.call(this);\n      }\n    };\n  }\n\n  play() {\n    this.tween.play();\n    return this;\n  }\n\n  reverse() {\n    this.tween.reverse();\n    return this;\n  }\n\n  reset() {\n    this.tween.reset();\n    return this;\n  }\n\n  seek(t) {\n    this.tween.seek(t * 1000);\n    return this;\n  }\n\n  pause() {\n    this.tween.pause();\n    return this;\n  }\n\n  finish() {\n    this.tween.finish();\n    return this;\n  }\n\n  destroy() {\n    var nodeId = this.node._id,\n        thisId = this._id,\n        attrs = Tween.tweens[nodeId],\n        key;\n    this.pause();\n\n    for (key in attrs) {\n      delete Tween.tweens[nodeId][key];\n    }\n\n    delete Tween.attrs[nodeId][thisId];\n  }\n\n}\nTween.attrs = {};\nTween.tweens = {};\n\nNode.prototype.to = function (params) {\n  var onFinish = params.onFinish;\n  params.node = this;\n\n  params.onFinish = function () {\n    this.destroy();\n\n    if (onFinish) {\n      onFinish();\n    }\n  };\n\n  var tween = new Tween(params);\n  tween.play();\n};\n\nexport const Easings = {\n  BackEaseIn(t, b, c, d) {\n    var s = 1.70158;\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n\n  BackEaseOut(t, b, c, d) {\n    var s = 1.70158;\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n\n  BackEaseInOut(t, b, c, d) {\n    var s = 1.70158;\n\n    if ((t /= d / 2) < 1) {\n      return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    }\n\n    return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n  },\n\n  ElasticEaseIn(t, b, c, d, a, p) {\n    var s = 0;\n\n    if (t === 0) {\n      return b;\n    }\n\n    if ((t /= d) === 1) {\n      return b + c;\n    }\n\n    if (!p) {\n      p = d * 0.3;\n    }\n\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n  },\n\n  ElasticEaseOut(t, b, c, d, a, p) {\n    var s = 0;\n\n    if (t === 0) {\n      return b;\n    }\n\n    if ((t /= d) === 1) {\n      return b + c;\n    }\n\n    if (!p) {\n      p = d * 0.3;\n    }\n\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n\n    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n  },\n\n  ElasticEaseInOut(t, b, c, d, a, p) {\n    var s = 0;\n\n    if (t === 0) {\n      return b;\n    }\n\n    if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    }\n\n    return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n  },\n\n  BounceEaseOut(t, b, c, d) {\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n\n  BounceEaseIn(t, b, c, d) {\n    return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n  },\n\n  BounceEaseInOut(t, b, c, d) {\n    if (t < d / 2) {\n      return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n    } else {\n      return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n    }\n  },\n\n  EaseIn(t, b, c, d) {\n    return c * (t /= d) * t + b;\n  },\n\n  EaseOut(t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  },\n\n  EaseInOut(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t + b;\n    }\n\n    return -c / 2 * (--t * (t - 2) - 1) + b;\n  },\n\n  StrongEaseIn(t, b, c, d) {\n    return c * (t /= d) * t * t * t * t + b;\n  },\n\n  StrongEaseOut(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n\n  StrongEaseInOut(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t * t + b;\n    }\n\n    return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n  },\n\n  Linear(t, b, c, d) {\n    return c * t / d + b;\n  }\n\n};","map":{"version":3,"names":["Util","Animation","Node","Konva","blacklist","node","duration","easing","onFinish","yoyo","PAUSED","PLAYING","REVERSING","idCounter","colorAttrs","TweenEngine","constructor","prop","propFunc","func","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","fire","str","handler","setTime","t","reverse","play","reset","update","getTime","setPosition","p","getPosition","undefined","state","getTimer","onEnterFrame","seek","Date","Tween","config","that","nodeId","_id","Easings","Linear","key","layers","getLayer","getLayers","error","anim","tween","i","_tweenFunc","_addListeners","attrs","tweens","_addAttr","onReset","onUpdate","end","start","diff","tweenId","n","len","trueEnd","trueStart","endRGBA","getAttr","_isArray","Math","max","length","_prepareArrayForTween","closed","indexOf","push","startRGBA","colorToRGBA","r","g","b","a","attr","newVal","round","setAttr","onPlay","onReverse","onPause","stop","points","call","destroy","thisId","prototype","to","params","BackEaseIn","c","d","s","BackEaseOut","BackEaseInOut","ElasticEaseIn","abs","PI","asin","pow","sin","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut"],"sources":["C:/traffic_sim/traffic-sim/sim_ui/node_modules/konva/lib/Tween.js"],"sourcesContent":["import { Util } from './Util.js';\nimport { Animation } from './Animation.js';\nimport { Node } from './Node.js';\nimport { Konva } from './Global.js';\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nclass TweenEngine {\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    fire(str) {\n        var handler = this[str];\n        if (handler) {\n            handler();\n        }\n    }\n    setTime(t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    }\n    getTime() {\n        return this._time;\n    }\n    setPosition(p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    }\n    getPosition(t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    }\n    play() {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    }\n    reverse() {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    }\n    seek(t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    }\n    reset() {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    }\n    finish() {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    }\n    update() {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    }\n    onEnterFrame() {\n        var t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    }\n    pause() {\n        this.state = PAUSED;\n        this.fire('onPause');\n    }\n    getTimer() {\n        return new Date().getTime();\n    }\n}\nexport class Tween {\n    constructor(config) {\n        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || Easings.Linear, yoyo = !!config.yoyo, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        var layers = node.getLayer() ||\n            (node instanceof Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    _addAttr(key, end) {\n        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;\n        tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        start = node.getAttr(key);\n        if (Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        var startRGBA = Util.colorToRGBA(start[n]);\n                        endRGBA = Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util.colorToRGBA(start);\n            endRGBA = Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    }\n    _tweenFunc(i) {\n        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    }\n    _addListeners() {\n        this.tween.onPlay = () => {\n            this.anim.start();\n        };\n        this.tween.onReverse = () => {\n            this.anim.start();\n        };\n        this.tween.onPause = () => {\n            this.anim.stop();\n        };\n        this.tween.onFinish = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (this.onFinish) {\n                this.onFinish.call(this);\n            }\n        };\n        this.tween.onReset = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (this.onReset) {\n                this.onReset();\n            }\n        };\n        this.tween.onUpdate = () => {\n            if (this.onUpdate) {\n                this.onUpdate.call(this);\n            }\n        };\n    }\n    play() {\n        this.tween.play();\n        return this;\n    }\n    reverse() {\n        this.tween.reverse();\n        return this;\n    }\n    reset() {\n        this.tween.reset();\n        return this;\n    }\n    seek(t) {\n        this.tween.seek(t * 1000);\n        return this;\n    }\n    pause() {\n        this.tween.pause();\n        return this;\n    }\n    finish() {\n        this.tween.finish();\n        return this;\n    }\n    destroy() {\n        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;\n        this.pause();\n        for (key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n    }\n}\nTween.attrs = {};\nTween.tweens = {};\nNode.prototype.to = function (params) {\n    var onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    var tween = new Tween(params);\n    tween.play();\n};\nexport const Easings = {\n    BackEaseIn(t, b, c, d) {\n        var s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut(t, b, c, d) {\n        var s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut(t, b, c, d) {\n        var s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn(t, b, c, d) {\n        return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut(t, b, c, d) {\n        if (t < d / 2) {\n            return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn(t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut(t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear(t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}